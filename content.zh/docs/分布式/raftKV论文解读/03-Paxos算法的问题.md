---
title: "03-Paxos算法的问题"
weight: 1
# bookFlatSection: false
# bookToc: true
# bookHidden: false
# bookCollapseSection: true
# bookComments: false
# bookSearchExclude: false
# bookHref: ''
# bookIcon: ''
---

# Paxos算法的问题

## 概念

1. 单决策 Paxos：这是指某一条日志（指令），通过集群的共识决策，达成共识（日志的放置顺序、内容全部一致）**[对应多决策就是某一份日志，而非一条日志记录]**
2. 安全性：共识后，永远不出错。确保共识结果（位置和内容）唯一且正确
3. 活性（可用性）：集群最终一定处理请求。即使因为网络、故障等问题暂时处于中间态，最终恢复后一定会返回正确结果。（安全性 > 活性）
4. 集群成员变更：就是集群中节点的增删改查（支持变更：就是支持动态进行节点信息的共识，避免固定的节点数、故障/扩容后重新部署）

## 缺点

1. 晦涩难懂：单决策如何工作？多决策 基于单决策 增加了哪些复杂的规则？
2. 难以二次开发：核心的点就是没有一个被广泛认同的多决策的算法（虽然有实现，但是要么就单决策、要么就和多决策paxos的概述不同且细节不具体）
3. 结构不适合、落地难：采用peer-to-peer的点对点无主架构（虽然有“弱主优化”，但是其实还是通过发起提案竞争选择的，随时发起竞争，竞争多，效率低），处理单条日志。（现实是大量连续、高频的日志追加无法满足）

**另外：**

1. 现实需求更适合一个强领导统一协调，处理多决策
2. 连续的日志的paxos的共识资源复用差（拿raft的改进说明：比如共用选主（不需要重复选主）、共用传输链路（不需要重复建立连接）、多数派确认规则的复用—— 一次约定，复用所有日志、日志序号与节点承诺的复用—— 全局连续序号，替代独立实例状态等）